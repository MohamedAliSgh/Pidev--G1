<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<f:view>
	<h:head>
	    <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1" http-equiv="X-UA-Conpatible" />
	    <h:outputStylesheet library="css" name="bootstrap.min.css" />
	    <h:outputStylesheet library="css" name="dataTables.bootstrap4.min.css" />
	    <h:outputScript library="js" name="jquery.min.js" />
	    <h:outputScript library="js" name="jquery.dataTables.min.js" />
	    <h:outputScript library="js" name="dataTables.bootstrap4.min.js" />
	    <title>JSF JPA Crud Example</title>
	    <style type="text/css">
	        .updateBtnStyle {
	            width: 80px !important;         
	        }
	         .col-sm-updated {          
	            padding-top: 7px;           
	        }
	         .col-sm-updated a {
	            text-decoration: none !important;
	        }
	        .text-edit {
	            margin-left: 123px !important;
	            margin-top: 29px !important;
	        }
	    </style>

        <script type="text/javascript">
                $(document).ready(function() {
                    $(".datatable_table").DataTable();
                })
        </script>
	</h:head>

    <h:body>
        <center><h2><h:outputText value="Accounts"/></h2></center>
        <h:form id="t">
        <h:dataTable id="schoolTable" value="#{accountController.findAll()}" var="item" styleClass="table table-striped table-bordered datatable_table">
            <h:column>
                <f:facet name="header">Id</f:facet>
                <h:outputText value="#{item.id}" />                
            </h:column>
            <h:column>
                <f:facet name="header">First Name</f:facet>
                <h:outputText value="#{item.firstname}" />
            </h:column>
            <h:column>
                <f:facet name="header">Last Name</f:facet>
                <h:outputText value="#{item.lastname}" />
            </h:column>
            <h:column>
                <f:facet name="header">Balance</f:facet>
                <h:outputText value="#{item.balance}" />
            </h:column>
            <h:column>
                <f:facet name="header">Update</f:facet>
                <h:commandButton action="#{account.updateDetails()}" value="Update" styleClass="btn btn-primary">
                    <f:param name="editId" value="#{item.id}"/>
                </h:commandButton>
            </h:column>
            <h:column>
                <f:facet name="header">Delete</f:facet>
                <h:commandButton action="#{accountController.delete(item.id)}" value="Delete" styleClass="btn btn-danger" />
            </h:column>
        </h:dataTable>
        <center><h:commandButton action="newAccount.xhtml?faces-redirect=true" value="Add New Account" styleClass="btn btn-success btnSpace" /></center>
        </h:form>
    </h:body>
</f:view>
</html>
